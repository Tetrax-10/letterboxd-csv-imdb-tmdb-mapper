# Letterboxd CSV IMDb TMDB Mapper

A Node.js script that adds IMDb and TMDb IDs to a Letterboxd-exported CSV file.

### Sample CSV generated by this tool:

<table>
  <tr align="center">
    <th colspan="4">Original CSV exported from Letterboxd</th>
    <th colspan="3">Data added by this tool</th>
  </tr>
  <tr align="center">
    <td><b>Position</b></td>
    <td><b>Title</b></td>
    <td><b>Year</b></td>
    <td><b>URL</b></td>
    <td><b>Title Type</b></td>
    <td><b>TmdbId</b></td>
    <td><b>Const</b></td>
  </tr>
  <tr align="center">
    <td>1</td>
    <td>Apocalypse Now</td>
    <td>1979</td>
    <td>https://boxd.it/6ZS</td>
    <td><b>Movie</b></td>
    <td><b>28</b></td>
    <td><b>tt0078788</b></td>
  </tr>
  <tr align="center">
    <td>2</td>
    <td>Spider-Man: Across the Spider-Verse</td>
    <td>2023</td>
    <td>https://boxd.it/kSz4</td>
    <td><b>Movie</b></td>
    <td><b>569094</b></td>
    <td><b>tt9362722</b></td>
  </tr>
  <tr align="center">
    <td>3</td>
    <td>Normal People</td>
    <td>2020</td>
    <td>https://boxd.it/q2VY</td>
    <td><b>TV Series</b></td>
    <td><b>89905</b></td>
    <td><b>tt9059760</b></td>
  </tr>
  <tr align="center">
    <td>4</td>
    <td>Once Upon a Time in the West</td>
    <td>1968</td>
    <td>https://boxd.it/2az4</td>
    <td><b>Movie</b></td>
    <td><b>335</b></td>
    <td><b>tt0064116</b></td>
  </tr>
  <tr align="center">
    <td>5</td>
    <td>Perfect Blue</td>
    <td>1997</td>
    <td>https://boxd.it/1W7A</td>
    <td><b>Movie</b></td>
    <td><b>10494</b></td>
    <td><b>tt0156887</b></td>
  </tr>
</table>

</br>

# Installation

1. Make sure you have [Node.js](https://nodejs.org/) installed. You can also use [Bun.js](https://bun.sh/).

2. Clone or [download this repository](https://github.com/Tetrax-10/letterboxd-csv-imdb-tmdb-mapper/archive/refs/heads/main.zip).

3. Open a terminal inside the `letterboxd-csv-imdb-tmdb-mapper` folder and run:

    ```bash
    npm install
    ```

</br>

# Usage

### 1. Export Your Letterboxd Data

Download your Letterboxd data as a ZIP file from [here](https://letterboxd.com/settings/data/). Extract it and place the `.csv` files you want to process inside the `input` folder.

> **Note:** Only put `.csv` files inside the `input` folder.  
> For example, if you want to process `likes/films.csv`, just copy `films.csv` into the `input` folder — do **not** place the entire `likes` folder.  
> The same applies for files under the `lists/` folder.

Your `input/` folder should look similar to this:

```
input/
├── your-list-name.csv
├── your-list-name-2.csv
├── diary.csv
├── watched.csv
├── watchlist.csv
├── films.csv
├── ratings.csv
└── ...
```

### 2. Run the Script to Add IMDb and TMDb IDs

#### Process `your-list-name.csv` or `films.csv`

```bash
npm run scrape "your-list-name.csv"
```

_or_

```bash
npm run scrape "films.csv"
```

so on...

✅ Done!

#### Process `diary.csv`

Since `diary.csv` doesn't contain direct film links, process `watched.csv` first:

```bash
npm run scrape "watched.csv"
```

Then process your diary:

```bash
npm run scrape "diary.csv" -- diary
```

✅ Done!

After processing, a new CSV file with IMDb and TMDb IDs will be created in the `output` folder.

</br>

# Additional Arguments

```bash
npm run scrape "ratings.csv" -- imdb b10
```

-   `imdb`: Outputs the CSV in IMDb format.  
    _(Useful when importing into IMDb using tools like [IMDb List Importer](https://greasyfork.org/en/scripts/23584-imdb-list-importer), [IMDb Ratings Importer](https://greasyfork.org/en/scripts/463836-imdb-ratings-importer), or any tools/website that supports IMDb format.)_

-   `b10`: Converts ratings from a 5-point scale to a 10-point scale.

</br>

# Supported CSV Format

This script supports CSV files exported from the [Letterboxd export page](https://letterboxd.com/settings/data/).

We follow Letterboxd’s naming scheme, so if you have a CSV from third-party tools like [Lizard Letterboxd List Downloader](https://lizard.streamlit.app/), make sure it follows this format:

```csv
Name,Year,Letterboxd URI
Kill Bill: Vol. 1,2003,https://boxd.it/70w
```

The script requires **only three fields**:

-   `Name`
-   `Year`
-   `Letterboxd URI` (direct link to the film page)

</br>

# Known Issues

-   `reviews.csv` is currently **not supported** due to limitations in the CSV parser.
